{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ResQMap</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{% static 'frontend/style.css' %}">
  <script src="{% static 'frontend/script.js' %}" defer></script>
  <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">

  <style>
    /* ---------- Defensive layout rules (prevent horizontal swipe/overflow) ---------- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      /* prevent any horizontal scroll */
      overflow-x: hidden !important;
      /* on touch devices, only allow vertical panning */
      touch-action: pan-y;
      -webkit-text-size-adjust: 100%;
      -webkit-overflow-scrolling: touch;
      -webkit-font-smoothing: antialiased;
    }

    /* Ensure media never forces overflow */
    img, video, iframe, svg { max-width: 100%; height: auto; display: block; }

    /* Keep container paddings from causing overflow on very small screens */
    .max-w-7xl, .max-w-6xl, .max-w-5xl { padding-left: 0.75rem; padding-right: 0.75rem; }

    /* ---------- Planet (exactly same look you used) ---------- */
    .planet {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #2072d6, #11d624);
      box-shadow: inset -12px -12px 30px rgba(0,0,0,0.6), 0 20px 50px rgba(0,0,0,0.6);
      flex-shrink: 0;
    }
    @media(min-width:640px){
      .planet { width: 300px; height: 300px; }
    }
    @media(min-width:1024px){
      .planet { width: 420px; height: 420px; }
    }

    /* Planet wrapper: center but don't cause overflow (overflow visible ok because body blocks scroll) */
    
    .planet-wrapper {
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 1rem;
      pointer-events: none; /* purely decorative */
      overflow: visible;
      width: 100%;
      max-width: 100%;
    }

    /* small safety: ensure buttons visible on mobile */
    .nav-btn { background: rgba(55,65,81,0.6); }

    /* Optional: hide outline only for mouse, keep accessible focus for keyboard */
    button:focus { outline: 2px solid rgba(250,204,21,0.18); outline-offset: 2px; }

    /* Prevent accidental negative margins or huge padding from breaking layout */
    section, header, footer, nav, main { max-width: 100%; box-sizing: border-box; }

  </style>
</head>
<body class="bg-black text-white antialiased">

  <!-- NAVBAR -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-black/60 backdrop-blur-md border-b border-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center gap-3">
          <a href="{% url 'home' %}" class="flex items-center gap-3">
            <img src="{% static 'images/logo.png' %}" alt="logo" class="h-9 w-auto object-contain">
            <span class="font-bold text-white text-lg">ResQMap</span>
          </a>
        </div>

        <!-- Desktop actions -->
        <div class="hidden md:flex items-center gap-3">
          <a href="{% url 'report' %}" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">Report Disaster</a>

          {% if user.is_authenticated %}
            <a href="{% url 'logout' %}" class="px-4 py-2 nav-btn text-white rounded-2xl">Logout</a>
          {% else %}
            <a href="{% url 'login' %}" class="px-4 py-2 nav-btn text-white rounded-2xl">Login</a>
          {% endif %}

          <a href="{% url 'home' %}" class="px-4 py-2 nav-btn text-white rounded-2xl">Home</a>
          <a href="#about" class="px-4 py-2 nav-btn text-white rounded-2xl">About</a>
          <a href="#" class="px-4 py-2 nav-btn text-white rounded-2xl">Donate</a>
        </div>

        <!-- Mobile controls (Hamburger only) -->
        <div class="flex items-center md:hidden gap-2">
          <button id="mobileMenuBtn" aria-expanded="false" aria-controls="mobileMenu" aria-label="Open main menu"
            class="p-2 rounded-md bg-gray-800/60 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400">
            <svg id="hamburgerIcon" class="h-6 w-6 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
            <svg id="closeIcon" class="h-6 w-6 text-white hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile collapsible full menu -->
      <div id="mobileMenu" class="md:hidden px-2 pb-4" style="display:none;">
        <div class="space-y-2">
          <a href="{% url 'report' %}" class="block w-full text-center px-4 py-2 bg-red-600 text-white rounded-lg">Report Disaster</a>
          <div class="grid grid-cols-2 gap-2 mt-2">
            {% if user.is_authenticated %}
              <a href="{% url 'logout' %}" class="w-full text-center px-4 py-2 nav-btn rounded-2xl">Logout</a>
            {% else %}
              <a href="{% url 'login' %}" class="w-full text-center px-4 py-2 nav-btn rounded-2xl">Login</a>
            {% endif %}
            <a href="{% url 'home' %}" class="w-full text-center px-4 py-2 nav-btn rounded-2xl">Home</a>
          </div>
          <div class="flex gap-2 mt-2">
            <a href="#about" class="flex-1 text-center px-4 py-2 nav-btn rounded-2xl">About</a>
            <a href="#" class="flex-1 text-center px-4 py-2 nav-btn rounded-2xl">Donate</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- spacer so navbar doesn't hide content -->
  <main class="pt-20">

    <!-- HERO -->
    <header class="relative min-h-[70vh] lg:min-h-[80vh] flex items-center justify-center px-6">
      <div class="max-w-6xl w-full mx-auto flex flex-col-reverse lg:flex-row items-center gap-8">
        <!-- Text -->
        <div class="w-full lg:w-1/2 text-center lg:text-left">
          <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight">ResQMap</h1>
          <p class="mt-4 text-sm sm:text-base md:text-lg text-gray-200 max-w-2xl mx-auto lg:mx-0 leading-relaxed">
            A 3D India-centric globe for real-time disaster prediction, risk visualization, and community reporting.
          </p>
          <div class="mt-6 flex flex-col sm:flex-row sm:justify-center lg:justify-start gap-3">
            <a href="{% url 'globe' %}" class="inline-flex items-center justify-center px-5 py-3 bg-gray-700/50 rounded-2xl hover:bg-gray-600/70 transition">GO TO GLOBE</a>
            <a href="{% url 'report' %}" class="inline-flex items-center justify-center px-5 py-3 bg-red-600 rounded-2xl hover:bg-red-700 transition">Report Disaster</a>
          </div>
        </div>

        <!-- Planet replaced with the extracted simple .planet -->
        <div class="w-full lg:w-1/2 flex items-center justify-center">
          <div class="planet-wrapper" aria-hidden="true">
            <div class="planet" aria-hidden="true"></div>
          </div>
        </div>
      </div>
    </header>

    <!-- ABOUT -->
    <section id="about" class="py-16 bg-black/60">
      <div class="max-w-5xl mx-auto px-6 text-center">
        <h2 class="text-2xl sm:text-3xl font-bold mb-6">About ResQMap</h2>
        <p class="text-sm sm:text-base text-gray-200 leading-relaxed max-w-3xl mx-auto">
          <span class="font-semibold text-red-400">ResQMap</span> is an <span class="font-semibold">India-centric disaster management platform</span> 
          designed to predict, visualize, and respond to disasters in real time. It combines <span class="font-semibold">AI-powered risk prediction</span>, 
          <span class="font-semibold">community-driven reporting</span>, and <span class="font-semibold">rescuer coordination</span>.
        </p>

        <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="bg-gray-800/50 p-6 rounded-2xl border border-gray-700 shadow-lg">
            <h3 class="text-xl font-bold text-red-500 mb-3">The Problem</h3>
            <p class="text-sm text-gray-200 opacity-90">Natural disasters like floods, earthquakes and cyclones affect millions each year. Current systems are often slow and disconnected; ResQMap brings live data and community reporting together.</p>
          </div>
          <div class="bg-gray-800/50 p-6 rounded-2xl border border-gray-700 shadow-lg">
            <h3 class="text-xl font-bold text-green-500 mb-3">The Solution</h3>
            <p class="text-sm text-gray-200 opacity-90">Using satellite feeds, weather APIs and AI models, ResQMap predicts disaster-prone zones and visualizes them on a 3D globe. Citizens can raise alerts instantly while rescuers use routing and live feeds.</p>
          </div>
        </div>

        <div class="mt-10">
          <h3 class="text-xl font-bold text-yellow-400 mb-3">Our Vision</h3>
          <p class="text-sm text-gray-200 max-w-3xl mx-auto">ResQMap envisions a future where technology and community come together to save lives with faster, smarter disaster response.</p>
        </div>
      </div>
    </section>

    <!-- CARDS -->
    <section class="py-12">
      <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <div class="bg-gray-800/60 rounded-2xl p-6 shadow-lg border border-gray-700 hover:scale-105 transition transform duration-300">
          <h2 class="text-lg font-bold mb-2 text-center">Disaster Prediction</h2>
          <p class="text-sm text-gray-200 opacity-90 text-center">ML models forecast disaster risks in real time through historical data.</p>
        </div>
        <div class="bg-gray-800/60 rounded-2xl p-6 shadow-lg border border-gray-700 hover:scale-105 transition transform duration-300">
          <h2 class="text-lg font-bold mb-2 text-center">Risk Visualization</h2>
          <p class="text-sm text-gray-200 opacity-90 text-center">A 3D interactive globe highlights affected areas with heatmaps and satellite insights.</p>
        </div>
        <div class="bg-gray-800/60 rounded-2xl p-6 shadow-lg border border-gray-700 hover:scale-105 transition transform duration-300">
          <h2 class="text-lg font-bold mb-2 text-center">Community Reporting</h2>
          <p class="text-sm text-gray-200 opacity-90 text-center">Citizens can report disasters instantly, creating a collaborative safety network.</p>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="py-12">
      <div class="max-w-6xl mx-auto px-6 text-center">
        <h2 class="text-2xl sm:text-3xl font-bold mb-8">How ResQMap Works</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-gray-800/60 rounded-2xl p-6 shadow-lg border border-gray-700">
            <h3 class="text-xl font-bold mb-2">Reliable APIs</h3>
            <p class="text-sm text-gray-200 opacity-90">Integrates real-time weather, seismic and satellite APIs feeding ML models for prediction.</p>
          </div>
          <div class="bg-gray-800/60 rounded-2xl p-6 shadow-lg border border-gray-700">
            <h3 class="text-xl font-bold mb-2">Crowd Reporting</h3>
            <p class="text-sm text-gray-200 opacity-90">Community reports appear live on the globe with markers for situational awareness.</p>
          </div>
          <div class="bg-gray-800/60 rounded-2xl p-6 shadow-lg border border-gray-700">
            <h3 class="text-xl font-bold mb-2">Rescuer Dashboard</h3>
            <p class="text-sm text-gray-200 opacity-90">Verified rescuers access dashboards showing hotspots, routing and team counts.</p>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="bg-gray-900 text-gray-300 py-8 mt-12">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8">
      <div>
        <h2 class="text-xl font-bold text-white mb-3">ResQMap</h2>
        <p class="text-sm text-gray-200">A disaster management platform for real-time prediction, visualization, and community-driven reporting.</p>
      </div>

      <div>
        <h2 class="text-lg font-semibold text-white mb-3">Quick Links</h2>
        <ul class="space-y-2">
          <li><a href="#" class="hover:text-red-500 transition">Home</a></li>
          <li><a href="#about" class="hover:text-red-500 transition">About</a></li>
          <li><a href="{% url 'report' %}" class="hover:text-red-500 transition">Report</a></li>
          <li><a href="#" class="hover:text-red-500 transition">Donate</a></li>
        </ul>
      </div>

      <div>
        <h2 class="text-lg font-semibold text-white mb-3">Contact Us</h2>
        <p class="text-sm">üìç Mumbai, India</p>
        <p class="text-sm">‚úâÔ∏è support@resqmap.org</p>
        <div class="flex gap-4 mt-3">
          <a href="#" class="hover:text-red-500 transition">Instagram</a>
          <a href="#" class="hover:text-red-500 transition">Facebook</a>
          <a href="#" class="hover:text-red-500 transition">Twitter</a>
        </div>
      </div>
    </div>

    <div class="border-t border-gray-700 mt-8 pt-4 text-center text-sm opacity-70">
      ¬© 2025 ResQMap. All rights reserved.
    </div>
  </footer>

  <!-- JS: mobile menu only -->
  <script>
    (function () {
      // mobile full menu
      const mobileBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      const hamburgerIcon = document.getElementById('hamburgerIcon');
      const closeIcon = document.getElementById('closeIcon');

      if (mobileBtn && mobileMenu) {
        mobileBtn.addEventListener('click', () => {
          const open = mobileMenu.style.display === 'block';
          if (!open) {
            mobileMenu.style.display = 'block';
            mobileBtn.setAttribute('aria-expanded','true');
            if (hamburgerIcon) hamburgerIcon.classList.add('hidden');
            if (closeIcon) closeIcon.classList.remove('hidden');
          } else {
            mobileMenu.style.display = 'none';
            mobileBtn.setAttribute('aria-expanded','false');
            if (hamburgerIcon) hamburgerIcon.classList.remove('hidden');
            if (closeIcon) closeIcon.classList.add('hidden');
          }
        });
      }

      // Reset mobile UI on resize to desktop
      window.addEventListener('resize', () => {
        if (window.innerWidth >= 768) {
          if (mobileMenu) mobileMenu.style.display = '';
          if (hamburgerIcon) hamburgerIcon.classList.remove('hidden');
          if (closeIcon) closeIcon.classList.add('hidden');
          if (mobileBtn) mobileBtn.setAttribute('aria-expanded','false');
        }
      });
    })();
  </script>
</body>
</html>
